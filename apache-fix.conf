# Fixed Apache Configuration for ICTACEM 2025
# Replace the existing ProxyPass lines with these:

# Proxy API requests to Node.js - preserving full path
ProxyPass /ictacem2025/api http://localhost:5001/ictacem2025/api
ProxyPassReverse /ictacem2025/api http://localhost:5001/ictacem2025/api

# Enable proxy modules if not already enabled:
# sudo a2enmod proxy
# sudo a2enmod proxy_http
# sudo a2enmod headers

# Add these headers for better proxy support
<Location /ictacem2025/api>
    ProxyPreserveHost On
    RequestHeader set X-Forwarded-Proto "http"
    RequestHeader set X-Forwarded-Port "80"
</Location>

# After making changes:
# sudo apache2ctl configtest
# sudo systemctl restart apache2
